# Introducción: 
Este ejercicio automatiza la validación de documentos XML utilizando Python y la librería lxml, el objetivo principal ha sido asegurar que un archivo de datos `.xml` cumple estrictamente con las reglas de estructura y tipos de datos definidas en un esquema `.xsd`, para lograrlo primero he tenido que instalar la librería necesaria mediante `pip3 install lxml`, para que todo funcione primero he de cargar los archivos físicos en memoria usando `etree.parse()`, después hay que transformar el documento XSD en un objeto validador mediante `etree.XMLSchema()` y utilizar el método `.validate()` para comprobar si el XML respeta lo definido en el esquema.

**ARCHIVO 1: 002-esquema.xsd**
```
# Definimos que esperamos una 'persona' con 'nombre' (texto) y 'edad' (entero)
"""
<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:element name="persona">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="nombre" type="xs:string"/>
                <xs:element name="edad" type="xs:integer"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>
</xs:schema>
```
---
**ARCHIVO 2: 001-documento de referencia.xml, datos**

---
```
# Creamos un XML que cumple las reglas anteriores
<?xml version="1.0" encoding="UTF-8"?>
<persona>
    <nombre>Alfredo Martínez</nombre>
    <edad>25</edad>
</persona>
```
---

**003-validador.py**

---
```
from lxml import etree

try:
    # Leemos los archivos físicos
    xml_doc = etree.parse("001-documento de referencia.xml")
    xsd_doc = etree.parse("002-esquema.xsd")

    # Creamos el objeto validador a partir del XSD
    schema = etree.XMLSchema(xsd_doc)

    # Ejecutamos la validación
    es_valido = schema.validate(xml_doc)

    # Mostramos el resultado de forma amigable
    if es_valido:
        print("RESULTADO: El documento XML es VÁLIDO según el esquema XSD.")
    else:
        print("RESULTADO: El documento NO es válido.")
        # Si falla, imprimimos el log de errores para saber por qué
        print(schema.error_log)

except OSError:
    print("Error: No se encuentran los archivos .xml o .xsd en la carpeta.")
except etree.XMLSchemaParseError as e:
    print(f"Error en la estructura del XSD: {e}")
```
---
# Conclusión:
Con este código aprendemos la base de la validación de datos estructurados, entendiendo que `schema.validate()` devuelve un valor booleano, lo cual es muy útil para integrar esta comprobación dentro de condicionales `if/else`, gracias a esto se evita procesar datos corruptos o mal formados en mis aplicaciones, asegurando que solo la información que cumple con el estándar XSD continúe en el flujo del programa.

Un error común es no revisar el `error_log` cuando la validación falla, al principio si el programa devuelve `False` no sabía si era por un error de sintaxis o un error en el orden de las etiquetas, pero al acceder al `schema.error_log` he visto que es extremadamente útil para depurar correctamente el problema.
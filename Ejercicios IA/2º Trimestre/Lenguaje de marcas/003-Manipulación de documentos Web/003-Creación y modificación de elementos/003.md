# Introducción:
En este ejercicio se desarrolla una Single Page Application básica que simula un panel de administración, el objetivo principal ha sido eliminar el contenido estático del HTML y generarlo dinámicamente mediante JavaScript, consumiendo datos desde archivos JSON externos.

He estructurado la aplicación en tres capas, la primera ha sido el HTML, básicamente un esqueleto con contenedores vacíos `<nav>, <div id="botonera">, <div id="tabla-container">`, listos para recibir contenido.

Luego he hecho el JavaScript, implementando funciones como `async/await` para recuperar la configuración del menú `botones.json` y los datos de usuarios `tabla.json`.

Por último el CSS, aquí he aplicado estilos CSS para transformar una tabla de datos crudos en una interfaz legible, utilizando selectores de clase para filas pares e impares.

**botones.json**

---
```
[
    {"texto": "Dashboard", "tipo": "menu", "url": "#home"},
    {"texto": "Usuarios", "tipo": "menu", "url": "#users"},
    {"texto": "Configuración", "tipo": "menu", "url": "#config"},
    {"texto": "Nuevo Registro", "tipo": "accion", "evento": "crear"},
    {"texto": "Exportar PDF", "tipo": "accion", "evento": "exportar"}
]
```
---

**tabla.json**

---
```
[
    {"id": 101, "usuario": "Ana Ruiz", "rol": "Admin", "estado": "Activo"},
    {"id": 102, "usuario": "Luis Pérez", "rol": "Editor", "estado": "Pendiente"},
    {"id": 103, "usuario": "Carlos Gil", "rol": "Viewer", "estado": "Activo"}
]
```
---

**index.html**

---
```
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio Integrador DAM</title>
    <style>
        /* ESTILOS (Requerimiento 6: Estilo en la tabla) */
        :root { --primary: #2c3e50; --accent: #3498db; --light: #ecf0f1; }
        
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        
        header { background: var(--primary); color: white; padding: 1rem; display: flex; justify-content: space-between; align-items: center; }
        
        /* Menú generado dinámicamente */
        nav ul { list-style: none; display: flex; gap: 20px; padding: 0; margin: 0; }
        nav a { color: white; text-decoration: none; font-weight: 500; transition: color 0.3s; }
        nav a:hover { color: var(--accent); }

        main { padding: 2rem; flex: 1; max-width: 1000px; margin: 0 auto; width: 100%; }

        /* Botonera de acciones */
        #botonera { margin-bottom: 20px; display: flex; gap: 10px; }
        button { 
            padding: 10px 20px; background: var(--accent); color: white; 
            border: none; border-radius: 4px; cursor: pointer; font-size: 14px; 
        }
        button:hover { background: #2980b9; }

        /* Tabla dinámica */
        .tabla-datos { width: 100%; border-collapse: collapse; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .tabla-datos th { background: var(--primary); color: white; text-align: left; padding: 12px; }
        .tabla-datos td { padding: 12px; border-bottom: 1px solid #ddd; }
        .fila-par { background-color: #f8f9fa; } /* Estilo alterno */
        .fila-hover:hover { background-color: #e8f6f3; }
    </style>
</head>
<body>

    <header>
        <h1>Panel Admin</h1>
        <nav id="menu-principal"></nav> </header>

    <main>
        <div id="botonera"></div> <div id="contenedor-tabla"></div> <div id="consola-visual" style="margin-top:20px; color: gray; font-style: italic;"></div>
    </main>

    <script>
        // LÓGICA DE PROGRAMACIÓN

        // Función auxiliar para mostrar mensajes (Req 1: Evento click)
        const log = (msg) => {
            console.log(msg);
            document.getElementById('consola-visual').textContent = `> Última acción: ${msg}`;
        };

        // CARGA DE LA INTERFAZ (MENÚ Y BOTONES)
        // Consume botones.json (Req 2) y genera Menú (Req 7) + Botones (Req 1)
        async function cargarInterfaz() {
            try {
                const res = await fetch('botones.json'); // [cite: 1102, 1103]
                const datos = await res.json();

                const navUl = document.createElement('ul');
                const botoneraDiv = document.getElementById('botonera');

                datos.forEach(item => {
                    if (item.tipo === 'menu') {
                        // Generar ítem de menú
                        const li = document.createElement('li');
                        li.innerHTML = `<a href="${item.url}">${item.texto}</a>`;
                        navUl.appendChild(li);
                    } else if (item.tipo === 'accion') {
                        // Generar botón de acción
                        const btn = document.createElement('button');
                        btn.textContent = item.texto;
                        // Asignar evento click (Req 1)
                        btn.addEventListener('click', () => { // 
                            log(`Ejecutando evento: ${item.evento}`);
                        });
                        botoneraDiv.appendChild(btn);
                    }
                });

                document.getElementById('menu-principal').appendChild(navUl);

            } catch (error) {
                console.error("Error cargando interfaz:", error); // [cite: 1105]
            }
        }

        // CARGA DE DATOS (TABLA)
        // Consume tabla.json (Req 3, 4) y genera Tabla con estilos (Req 6)
        async function cargarTabla() {
            try {
                const res = await fetch('tabla.json');
                const usuarios = await res.json();

                if (usuarios.length === 0) return;

                const tabla = document.createElement('table');
                tabla.className = 'tabla-datos'; // Aplica CSS definido arriba

                // Generar Cabecera Dinámica
                const thead = document.createElement('thead');
                const trHead = document.createElement('tr');
                Object.keys(usuarios[0]).forEach(key => {
                    const th = document.createElement('th');
                    th.textContent = key.toUpperCase();
                    trHead.appendChild(th);
                });
                thead.appendChild(trHead);
                tabla.appendChild(thead);

                const tbody = document.createElement('tbody');
                usuarios.forEach((usuario, index) => {
                    const tr = document.createElement('tr');
                    // Estilo filas pares/impares y hover
                    tr.className = index % 2 === 0 ? 'fila-par fila-hover' : 'fila-hover';

                    Object.values(usuario).forEach(valor => {
                        const td = document.createElement('td');
                        td.textContent = valor;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
                tabla.appendChild(tbody);

                document.getElementById('contenedor-tabla').innerHTML = ''; // Limpiar previo
                document.getElementById('contenedor-tabla').appendChild(tabla); // 

            } catch (error) {
                console.error("Error cargando tabla:", error);
            }
        }

        // Inicialización
        document.addEventListener('DOMContentLoaded', () => {
            cargarInterfaz();
            cargarTabla();
        });
    </script>
</body>
</html>
```
---
# Conclusión:

Con este ejercicio aprendemos a manejar el funcionamiento de una aplicación web completa, la asincronía es fundamental, es decir, el uso de `async/await` y `fetch` me ha permitido cargar diferentes partes del menú y tabla en paralelo sin bloquear la renderización de la página.

También hay que tener claro qeue al separar los datos (json), la estructura (js) y el diseño (css), he logrado un código limpio donde cambiar el color de la tabla o añadir una opción al menú no requiere reescribir la lógica del programa.

Un error común es el uso de `fetch`, es decir, si intento abrir el `index.html` directamente el navegador bloqueará los archivos JSON por seguridad, para que funcione correctamente hace falta hacerlo desde un servidor local.
# Introducción:
Este ejercicio nos enseña el uso de la creación de las BBDD, cómo crear tablas, insertar datos, borrar datos, hacer una selección cruzada y crear usuarios con privilegios dentro de la BBDD.

Este ejercicio es fundametal para comprender la importancia de las claves primarias en la gestión de bases de datos puesto que estas facilitan la identificación única de cada registro.

También se hacen relaciones con claves ajenas (foreign keys) para establecer relaciones entre tablas.

Por último también hace uso de la creación de nuevos usuarios para la asignación de privilegios específicos sobre una base de datos, de esta manera, permite gestionar de forma segura quién pued acceder y qué acciones puede realizar en la base de datos.

---
```
CREATE DATABASE portafolioexamen;

CREATE TABLE categoriasportafolio (
    Identificador INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(255)
);

CREATE TABLE piezasportafolio (
    Identificador INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(255),
    descripcion VARCHAR(255),
    fecha VARCHAR(50),
    id_categoria INT,
    FOREIGN KEY (id_categoria) REFERENCES categoriasportafolio(Identificador)
);

+---------------+--------------+------+-----+---------+----------------+
| Field         | Type         | Null | Key | Default | Extra          |
+---------------+--------------+------+-----+---------+----------------+
| Identificador | int          | NO   | PRI | NULL    | auto_increment |
| titulo        | varchar(255) | YES  |     | NULL    |                |
| descripcion   | varchar(255) | YES  |     | NULL    |                |
| fecha         | varchar(50)  | YES  |     | NULL    |                |
| id_categoria  | int          | YES  | MUL | NULL    |                |
+---------------+--------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)

CREATE TABLE categoriasportafolio (
    Identificador INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(255)
);

+---------------+--------------+------+-----+---------+----------------+
| Field         | Type         | Null | Key | Default | Extra          |
+---------------+--------------+------+-----+---------+----------------+
| Identificador | int          | NO   | PRI | NULL    | auto_increment |
| nombre        | varchar(255) | YES  |     | NULL    |                |
+---------------+--------------+------+-----+---------+----------------+
2 rows in set (0.00 sec)

-- Insertamos registros en piezasportafolio
INSERT INTO piezasportafolio VALUES (
    NULL,
    'La noche estellada',
    'famosa pintura de Vincent van Gogh de 1889, 
     un óleo sobre lienzo postimpresionista que representa
     un paisaje nocturno con un cielo turbulento y un pueblo idílico.',
    '1889',
    NULL
);

-- Insertamos registros en categoriasportafolio
INSERT INTO categoriasportafolio VALUES (
    NULL,
    'Postimpresionismo'
);

-- Eliminamos columna
ALTER TABLE piezasportafolio 
DROP COLUMN apellidos;
ADD COLUMN apellidos;

-- Selección cruzada con LEFT JOIN
SELECT Identificador, titulo, descripcion, fecha, nombre AS categoria
FROM piezasportafolio
LEFT JOIN categoriasportafolio ON id_categoria = Identificador;

-- Crear vista de la selección cruzada
CREATE VIEW vista_piezas_categorias AS
SELECT Identificador, titulo, descripcion, fecha, nombre AS categoria
FROM piezasportafolio
LEFT JOIN categoriasportafolio ON id_categoria = Identificador;

-- Eliminamos registros
ALTER TABLE piezasportafolio 
DROP CONSTRAINT apellidos;

-- Mostrar usuarios en el sistema.
SELECT USER, HOST FROM mysql.user;

-- Crear un nuevo usuario.
CREATE USER 'nombredeusuario'@'servidor' IDENTIFIED BY 'contraseña';

GRANT USAGE ON *.* TO 'nombredeusuario'@'servidor';

GRANT ALL PRIVILEGES ON portafolioexamen.* TO 'nombredeusuario'@'servidor';

FLUSH PRIVILEGES;
```
---

# Conclusión:
Todo esto ayuda a entender como aplicar el uso de todas estas herramientas en una base de datos, por ejemplo, al crear las tablas se define una relación mediante la clave ajena para referenciar la tabla categoriasportafolio.

Un error común a la hora de realizar este examen han sido errores de syntaxis a la hora de insertar datos, por ejemplo, no haciendo un uso correcto de `,` o `;` haciendo pues que no se pudieran insertar datos.
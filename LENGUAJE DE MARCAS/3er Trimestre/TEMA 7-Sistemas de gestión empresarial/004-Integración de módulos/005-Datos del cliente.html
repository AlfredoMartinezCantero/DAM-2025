<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Tienda</title>
        <style>
            body,html{
                padding: 0px;
                margin: 0px;
                font-family: ubuntu;
                width: 100%;
                height: 100%;
            }

            body{
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }

            header,footer{
                background: black;
                color: white;
                padding: 10px;
                text-align: center;
            }
        </style>
        <meta charset="utf-8">
    </head>
    <body>
        <header>
            <h1>Microtienda</h1>
        </header>
        <main>
            <section id="productos">
            <h3></h3>
            <div>
                <article>
                    <h4>Zapatillas</h4>
                    <button nombre="zapatillas">50€</button>
                </article>
                <article>
                    <h4>Pantalones</h4>
                    <button nombre="pantalones">30€</button>
                </article>
                <article>
                    <h4>Camisetas</h4>
                    <button nombre="camisetas">40€</button>
                </article>
            </div>
        </section>
        <section>
            <h3>Datos de cliente</h3>
            <div>
                <input type="text" id="nombre" placeholder="nombre">
                <input type="text" id="apellidos" placeholder="apellidos">
                <input type="text" id="email" placeholder="email">
                <div id="enviar">Enviar pedido</div>
            </div>
        </section>
        </main>
        <footer>
            (c) 2026 Alfredo Martínez Cantero
        </footer>
    </body>
    <script>
        var pedido = {
            cliente:{}, // UN cliente
            productos:[],   // VARIOS productos, por eso se usa "[]"
            pedido:{}   // UN pedido
        };

        ////// Atrapa productos y los mete en el carro
        let botones = document.querySelectorAll("button"); // Siempre que hagamos un querySelectorAll usaremos a continuación un "forEach"
        botones.forEach(function(boton){
            boton.onclick = function(){
                pedido.productos.push({
                    "nombre":this.getAttribute("nombre"),
                    "precio":this.textContent
                    })
                    console.log(pedido)
            }
        })
        ////// Atrapa los datos del cliente
        let boton_enviar = document.querySelector("#enviar");
        boton_enviar.onclick = function(){
            let nombre_cliente = document.querySelector("#nombre");
            let apellidos_cliente = document.querySelector("#apellidos");
            let email_cliente = document.querySelector("#email");
            pedido.cliente = {
                "nombre":nombre_cliente.value,
                "apellidos":apellidos_cliente.value,
                "email":email_cliente.value
            }
        }
    </script>
</html>